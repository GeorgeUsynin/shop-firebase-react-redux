(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(12),i=n.n(a),s=(n(108),n(109),n(160)),o=n(161),d=n(13),u=n(75),l=n.n(u),j=n(81),p=n(43),h=n(67);n(120),n(122);h.a.initializeApp({apiKey:"AIzaSyAyeMIqCDCcV7dYMhWl-mPgKxEU-cFb5RQ",authDomain:"shop-a10c2.firebaseapp.com",databaseURL:"https://shop-a10c2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"shop-a10c2",storageBucket:"shop-a10c2.appspot.com",messagingSenderId:"169944780170",appId:"1:169944780170:web:6871faa9413ce774044c73",measurementId:"G-96WHHNW2GJ"}),h.a.analytics();var b=h.a.firestore(),O=Object(p.b)("products/setProducts",function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(x({isFetching:!0})),e.next=3,b.collection("products").doc("electronics").get().then((function(e){return e.data()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),m=Object(p.c)({name:"products",initialState:{electronics:null,isFetching:!1,totalPrice:0,totalProductsInCart:0},reducers:{setIsFetching:function(e,t){e.isFetching=t.payload.isFetching},setTotalPrice:function(e,t){0===t.payload.price&&(e.totalPrice=0),e.totalPrice+=t.payload.price,localStorage.setItem("totalPrice",JSON.stringify(e.totalPrice))},setTotalAmountOfProductsInCart:function(e,t){0===t.payload.value&&(e.totalProductsInCart=0),e.totalProductsInCart+=t.payload.value,localStorage.setItem("totalQuantity",JSON.stringify(e.totalProductsInCart))}},extraReducers:function(e){e.addCase(O.fulfilled,(function(e,t){e.electronics=t.payload,e.isFetching=!1}))}}),f=m.actions,x=f.setIsFetching,g=f.setTotalPrice,y=f.setTotalAmountOfProductsInCart,P=m.reducer,v=n(153),S=n(157),C=n(88),I=n.n(C),w=n(87),F=n.n(w),R=n(15),q=n(46),A=Object(p.c)({name:"cart",initialState:{potentialPurchases:[],showOrder:!0},reducers:{setDeletePurchases:function(e){e.potentialPurchases=[]},setPotentialPurchases:function(e,t){e.potentialPurchases.some((function(e){return e.id===t.payload.id}))||e.potentialPurchases.push(t.payload)},setAddQuantityOfPurchase:function(e,t){var n=e.potentialPurchases.find((function(e){return e.id===t.payload.id}));n&&n.quantity++,localStorage.setItem("purchases",JSON.stringify(e.potentialPurchases))},setSubQuantityOfPurchase:function(e,t){var n=e.potentialPurchases.find((function(e){return e.id===t.payload.id}));if(n&&(n.quantity--,0===n.quantity)){var r=e.potentialPurchases.findIndex((function(e){return e.id===t.payload.id}));e.potentialPurchases.splice(r,1)}localStorage.setItem("purchases",JSON.stringify(e.potentialPurchases))},setShowOrder:function(e,t){e.showOrder=t.payload}}}),T=A.actions,N=T.setPotentialPurchases,D=T.setAddQuantityOfPurchase,J=T.setSubQuantityOfPurchase,U=T.setShowOrder,k=T.setDeletePurchases,B=A.reducer,Q=n(4),E=c.a.memo((function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.products.totalPrice})),n=Object(d.c)((function(e){return e.products.totalProductsInCart})),r=Object(R.f)();return Object(Q.jsx)(v.a,{position:"sticky",style:{marginBottom:"24px"},children:Object(Q.jsxs)(S.a,{style:{justifyContent:"space-between"},children:[Object(Q.jsx)("div",{children:r.pathname!==re.PRODUCTS&&Object(Q.jsx)(q.b,{to:re.PRODUCTS,style:{color:"white"},onClick:function(){return e(U(!0))},children:Object(Q.jsx)(F.a,{})})}),Object(Q.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[0!==t&&Object(Q.jsxs)("p",{style:{padding:"0 5px"},children:[t," $"]}),Object(Q.jsx)(q.b,{to:re.CART,style:{color:"white"},children:Object(Q.jsx)(I.a,{})}),0!==n&&Object(Q.jsx)("div",{style:{borderRadius:"50%",border:"solid white 1px",padding:"1px 5px",fontSize:"10px",marginLeft:"5px"},children:n})]})]})})})),z=n(79),H=n(158),L=c.a.memo((function(e){var t=e.model,n=e.description,r=e.price,c=e.brand,a=e.imgUrl,i=e.addProductHandler,s=e.id,o=e.showButton;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("img",{src:a,alt:""}),Object(Q.jsxs)("p",{children:[c," ",t]}),Object(Q.jsx)("p",{style:{textAlign:"left"},children:n}),Object(Q.jsx)("p",{children:Object(Q.jsxs)("b",{children:[r," $"]})}),o&&Object(Q.jsx)("div",{children:Object(Q.jsx)(H.a,{variant:"contained",color:"primary",onClick:function(){i&&i(r,1,s)},children:"Add to cart"})})]})})),W=n(159),_=n(123),Y=c.a.memo((function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.products.electronics})),n=function(n){return n.map((function(n){return Object(Q.jsx)(W.a,{item:!0,xs:12,sm:6,md:4,children:Object(Q.jsx)(_.a,{elevation:3,style:{padding:"20px"},children:Object(Q.jsx)(L,{id:n.id,brand:n.brand,model:n.model,description:n.description,price:n.price,imgUrl:n.imgUrl,addProductHandler:function(n,r,c){if(e(g({price:n})),e(y({value:r})),t){var a=Object.values(t).reduce((function(e,t){return[].concat(Object(z.a)(e),Object(z.a)(t))}),[]).filter((function(e){return e.id===c}));e(N(a[0]))}e(D({id:c}))},showButton:!0})})},n.id)}))};return Object(Q.jsxs)(W.a,{container:!0,spacing:6,children:[t&&n(t.headphones),t&&n(t.phones),t&&n(t.monitors)]})})),$=n(92),G=n.n($),K=n(93),M=n.n(K),V=n(52),X=n(28),Z=c.a.memo((function(){var e=Object(d.c)((function(e){return e.cart.potentialPurchases})),t=Object(d.c)((function(e){return e.products.totalPrice})),n=Object(d.b)();return Object(Q.jsx)(X.c,{initialValues:{name:"",surname:"",address:"",phone:""},validate:function(e){var t={};return e.name?e.surname?e.address?e.phone||(t.phone="Required"):t.address="Required":t.surname="Required":t.name="Required",t},onSubmit:function(r,c){var a=c.resetForm,i={purchases:e.map((function(e){return{id:e.id,brand:e.brand,model:e.model,quantity:e.quantity,price:e.price}})),customerData:r,totalPrice:t};console.log(JSON.stringify(i)),n(y({value:0})),n(g({price:0})),n(U(!1)),localStorage.clear(),a()},children:function(e){var t=e.submitForm,n=e.errors,r=e.values,c=e.touched;return Object(Q.jsxs)(X.b,{style:{display:"flex",flexDirection:"column"},children:[Object(Q.jsx)(X.a,{component:V.a,name:"name",label:"Name",variant:"outlined",error:c.name&&n.name}),Object(Q.jsx)(X.a,{component:V.a,name:"surname",label:"Surname",variant:"outlined",error:c.surname&&n.surname}),Object(Q.jsx)(X.a,{component:V.a,name:"address",label:"Address",variant:"outlined",error:c.address&&n.address}),Object(Q.jsx)(X.a,{component:V.a,name:"phone",label:"Phone",variant:"outlined",error:c.phone&&n.phone}),Object(Q.jsx)(H.a,{variant:"contained",color:"primary",onClick:t,disabled:Object.values(n).some((function(e){return"Required"===e}))||""===r.name,children:"Order"})]})}})})),ee=n(91),te=n.n(ee),ne=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.cart.potentialPurchases})),n=Object(d.c)((function(e){return e.products.totalPrice})),c=Object(d.c)((function(e){return e.cart.showOrder}));return Object(r.useEffect)((function(){return function(){c||e(k())}})),Object(Q.jsx)(Q.Fragment,{children:c?Object(Q.jsxs)(W.a,{container:!0,spacing:6,children:[0!==t.length&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(W.a,{container:!0,item:!0,xs:8,sm:8,md:8,direction:"column",children:t.map((function(t){return Object(Q.jsx)("div",{children:!!t.quantity&&Object(Q.jsx)(_.a,{elevation:3,style:{padding:"20px",marginBottom:"20px"},children:Object(Q.jsxs)(W.a,{container:!0,direction:"column",style:{alignContent:"center"},children:[Object(Q.jsx)(W.a,{item:!0,children:Object(Q.jsx)(L,{brand:t.brand,model:t.model,description:t.description,price:t.price,imgUrl:t.imgUrl,id:t.id,showButton:!1})}),Object(Q.jsxs)(W.a,{item:!0,children:[Object(Q.jsx)(H.a,{variant:"contained",color:"primary",onClick:function(){e(J({id:t.id})),e(g({price:-t.price})),e(y({value:-1}))},children:"-"}),Object(Q.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold",padding:"0 10px"},children:" ".concat(t.quantity," ")}),Object(Q.jsx)(H.a,{variant:"contained",color:"primary",onClick:function(){e(D({id:t.id})),e(g({price:t.price})),e(y({value:1}))},children:"+"})]})]})})},t.id)}))}),Object(Q.jsxs)(W.a,{className:te.a.order,container:!0,item:!0,xs:4,sm:4,md:4,direction:"column",children:[Object(Q.jsx)(Z,{}),Object(Q.jsxs)("h4",{children:["Total price: ",Object(Q.jsxs)("em",{children:[n," $"]})]})]})]}),0===t.length&&Object(Q.jsxs)("div",{style:{margin:"30px auto"},children:[Object(Q.jsx)(G.a,{style:{width:"100px",height:"100px"}}),Object(Q.jsx)("h1",{style:{width:"100%"},children:"Your cart is empty. Please choose something to buy"})]})]}):Object(Q.jsxs)("div",{children:[Object(Q.jsx)(M.a,{style:{width:"100px",height:"100px"}}),Object(Q.jsx)("h1",{children:"Your order is being processed"})]})})},re={PRODUCTS:"/products",CART:"/cart"};var ce=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.products.isFetching})),n=Object(d.c)((function(e){return e.cart.potentialPurchases})),c=Object(d.c)((function(e){return e.products.totalPrice})),a=Object(d.c)((function(e){return e.products.totalProductsInCart}));return 0===n.length&&localStorage.getItem("purchases")&&((n=JSON.parse(localStorage.getItem("purchases"))).forEach((function(t){return e(N(t))})),c=JSON.parse(localStorage.getItem("totalPrice")),e(g({price:c})),a=JSON.parse(localStorage.getItem("totalQuantity")),e(y({value:a}))),Object(r.useEffect)((function(){e(O())}),[e]),Object(Q.jsx)("div",{className:"App",children:Object(Q.jsxs)(s.a,{children:[Object(Q.jsx)(E,{}),t?Object(Q.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(Q.jsx)(o.a,{})}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(R.b,{exact:!0,path:"/",render:function(){return Object(Q.jsx)(R.a,{to:re.PRODUCTS})}}),Object(Q.jsx)(R.b,{path:"/products",render:function(){return Object(Q.jsx)(Y,{})}}),Object(Q.jsx)(R.b,{path:"/cart",render:function(){return Object(Q.jsx)(ne,{})}})]})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},ie=n(35),se=Object(ie.b)({products:P,cart:B}),oe=Object(p.a)({reducer:se});i.a.render(Object(Q.jsx)(q.a,{children:Object(Q.jsx)(d.a,{store:oe,children:Object(Q.jsx)(ce,{})})}),document.getElementById("root")),ae()},91:function(e,t,n){e.exports={order:"Cart_order__hFp2_"}}},[[119,1,2]]]);
//# sourceMappingURL=main.3584441d.chunk.js.map